"use strict";(self.webpackChunk_hocgin_ui=self.webpackChunk_hocgin_ui||[]).push([[9618,9139],{39618:function(Z,p,e){e.r(p);var P=e(80602),D=e(40577),C=e(33696),h=e(46686),c=e.n(h),_=e(93236),I=e(84875),K=e.n(I),R=e(2717),a=e(50690),u=e(29139),A=e(69958),l=e(62086),O=void 0,x=function(M){var n=Object.assign({},M),r=n.prefixCls,i=(0,_.useRef)(),z=(0,_.useState)(n==null?void 0:n.data),W=c()(z,2),m=W[0],T=W[1],F=(0,_.useState)(!1),y=c()(F,2),G=y[0],U=y[1],Q=(0,_.useState)(),b=c()(Q,2),V=b[0],$=b[1];(0,_.useEffect)(function(){T(n==null?void 0:n.data)},[n.data]),(0,_.useEffect)(function(){$(m==null?void 0:m.name),N()},[m]);var N=function(o){var v,f=i==null||(v=i.current)===null||v===void 0?void 0:v.map,d=o!=null?o:m;d&&d!==null&&d!==void 0&&d.location&&f&&f.setCenter(d==null?void 0:d.location)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(D.default,{title:"\u9009\u62E9\u70B9",children:(0,l.jsx)(C.default,{icon:(0,l.jsx)(R.Z,{}),onClick:U.bind(O,!0)})}),(0,l.jsx)(P.Z,{className:K()("".concat(r),n==null?void 0:n.className),closable:!1,onOk:function(){var o;m&&(n==null||(o=n.onOk)===null||o===void 0||o.call(n,m)),U(!1)},onCancel:U.bind(O,!1),visible:G,children:(0,l.jsxs)("div",{style:{width:"100%",height:300},children:[(0,l.jsx)(u.default,{value:V,onChange:$,onSelect:function(o){var v,f=i==null||(v=i.current)===null||v===void 0?void 0:v.map;T(o),f.setCenter(o==null?void 0:o.location)},className:"".concat(r,"-LbsSearch"),akay:n==null?void 0:n.akay}),(0,l.jsx)(A.X,{useAMapUI:!0,akay:n==null?void 0:n.akay,children:(0,l.jsx)(a.D5,{ref:i,zoom:12,onComplete:function(){var o,v=i==null||(o=i.current)===null||o===void 0?void 0:o.map;N(),AMapUI.loadUI(["misc/PositionPicker"],function(f){var d=new f({mode:"dragMap",map:v});d.on("success",function(t){var L,g,B,s=t==null?void 0:t.regeocode,S=s==null||(L=s.aois)===null||L===void 0?void 0:L[0];console.log("result",t);var X=(g=S==null?void 0:S.name)!==null&&g!==void 0?g:t==null?void 0:t.nearestPOI,k=s==null?void 0:s.formattedAddress,H=s==null||(B=s.addressComponent)===null||B===void 0?void 0:B.adcode,J=t==null?void 0:t.position;T({name:X,address:k,adcode:H,location:J})}),d.start()})}})})]})})]})};p.default=x},29139:function(Z,p,e){e.r(p);var P=e(8311),D=e(46686),C=e.n(D),h=e(50690),c=e(93236),_=e(62086),I=function(R){var a=Object.assign({},R),u=(0,c.useRef)(),A=(0,c.useState)(),l=C()(A,2),O=l[0],x=l[1];return(0,c.useEffect)(function(){var E;x(u==null||(E=u.current)===null||E===void 0?void 0:E.input)},[u==null?void 0:u.current]),(0,_.jsx)(P.default.Group,{className:a.className,style:{display:"flex"},compact:!0,children:(0,_.jsxs)("div",{style:{flex:"1 1"},children:[(0,_.jsx)(P.default,{ref:u,style:{flex:"1 1"},onChange:function(M){var n,r;return a==null||(n=a.onChange)===null||n===void 0?void 0:n.call(a,(r=M.target)===null||r===void 0?void 0:r.value)},value:a==null?void 0:a.value}),(0,_.jsx)("div",{style:{width:"100%"},children:O&&(0,_.jsx)(h.Qc,{datatype:"poi",input:O,onSelect:function(M){var n,r=M.poi;return a==null||(n=a.onSelect)===null||n===void 0?void 0:n.call(a,r)}})})]})})};p.default=I}}]);
