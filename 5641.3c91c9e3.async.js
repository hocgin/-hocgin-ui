"use strict";(self.webpackChunk_hocgin_ui=self.webpackChunk_hocgin_ui||[]).push([[5641],{85641:function(ne,y,p){p.d(y,{Qc:function(){return _},D5:function(){return W}});var P=p(24190),l=p(93236),S=p(52190),m=p(62086);function A(r){return new Promise((e,a)=>{window.setTimeout(e,r)})}var g=3;class h extends l.Component{constructor(e){if(super(e),this.isMountedOk=!1,this.state={loaded:!!window.AMap},this.handleError=a=>{this.isMountedOk&&this.setState({error:a})},this.finish=()=>{this.isMountedOk&&this.setState({loaded:!0})},e.akay===null)throw new TypeError("AMap: akay is required")}componentDidMount(){this.isMountedOk=!0;var{callbackName:e}=this.props;if(window.AMap==null){if(window[e]){h.waitQueue.push([this.finish,this.handleError]);return}this.loadMap()}}componentWillUnmount(){this.isMountedOk=!1}render(){return this.state.loaded?this.props.children:this.props.fallback?this.props.fallback(this.state.error):this.state.error?(0,m.jsx)("div",{style:{color:"red"},children:this.state.error.message}):null}getScriptSrc(){var e=this.props,a=e.protocol||window.location.protocol;a.indexOf(":")===-1&&(a+=":");var i="";return e.plugin&&(i="&plugin="+e.plugin),a+"//"+e.hostAndPath+"?v="+e.version+"&key="+e.akay+"&callback="+e.callbackName+i}loadMap(){var e=this;return(0,P.Z)(function*(){var{callbackName:a}=e.props,i=e.getScriptSrc();window[a]=()=>{var u=h.waitQueue;h.waitQueue=[],u.forEach(t=>t[0]()),e.finish()};for(var o=0;o<g;o++)try{yield(0,S.b)(i);break}catch(u){if(o===g-1){var n=function(){var t=new Error("Failed to load AMap: "+u.message),s=h.waitQueue;return h.waitQueue=[],s.forEach(v=>v[1](t)),e.handleError(t),{v:void 0}}();if(typeof n=="object")return n.v}yield A(o*1e3)}})()}}h.defaultProps={protocol:/^file:/.test(window.location.protocol)?"https":window.location.protocol,akay:"",hostAndPath:"webapi.amap.com/maps",version:"2.0",callbackName:"load_amap_sdk",plugin:""},h.waitQueue=[];var M=p(7161),ae=p(19103),ue=()=>{var[r]=React.useState(()=>{var o=document.createElement("div");return o}),[e,a]=useState({render:()=>null,remove:()=>null}),i=React.useCallback(o=>{var n=t=>{var{children:s}=t;return s?createPortal(s,o):null},u=t=>{t&&unmountComponentAtNode(t)};return{render:n,remove:u}},[]);return useEffect(()=>{r&&e.remove();var o=i(r);return a(o),()=>{o.remove(r)}},[r]),{Portal:e.render,container:r}};function T(r,e,a){e===void 0&&(e={}),a===void 0&&(a=[]),a.forEach(i=>{var o=i,[n,u]=(0,l.useState)(e[o]);(0,l.useEffect)(()=>{if(r&&e[o]!==void 0&&e[o]!==n){var t=r.getStatus();r.setStatus((0,M.Z)({},t,{[o]:e[o]})),u(e[o])}},[r,e[o]])})}function ie(r,e){var[a,i]=useState(e);useEffect(()=>{r&&e!==void 0&&(e?r.show&&r.show():r.hide&&r.hide(),e!==a&&i(e))},[r,e])}function le(r){var e=useRef();return useEffect(()=>{e.current=r}),e.current}function x(r,e,a,i){e===void 0&&(e={}),a===void 0&&(a=[]),a.forEach(o=>{var n=o,u=e[n];(0,l.useEffect)(()=>{if(!!r){var t=o.toLocaleLowerCase().replace(/^on/,"");return u&&t&&r.on(t,u),()=>{t&&u&&r.off(t,u)}}},[r,e[n]])})}function w(r,e,a){r===void 0&&(r={}),e===void 0&&(e={}),a===void 0&&(a=[]),a.forEach(i=>{var o="set"+i,n=""+i.charAt(0).toLowerCase()+i.slice(1),[u,t]=(0,l.useState)(e[n]);(0,l.useEffect)(()=>{r&&e[n]!==void 0&&e[n]!==u&&r[o]&&typeof r[o]=="function"&&(r[o](e[n]),t(e[n]))},[r,e[n]])})}var R=function(e){e===void 0&&(e={});var[a,i]=(0,l.useState)();return(0,l.useEffect)(()=>{if(AMap&&!a){var o;return AMap.plugin(["AMap.AutoComplete"],()=>{o=new AMap.AutoComplete(e),i(o)}),()=>{o&&i(void 0)}}},[]),w(a,e,["Type","City","CityLimit"]),x(a,e,["onChoose","onSelect"]),{autoComplete:a,setAutoComplete:i}},_=l.forwardRef((r,e)=>{var{autoComplete:a}=R(r);return(0,l.useImperativeHandle)(e,()=>(0,M.Z)({},r,{autoComplete:a})),null}),k=p(84280),D=p(19477),b={map:void 0,AMap:void 0,container:void 0},I=(r,e)=>(0,M.Z)({},r,e),E=l.createContext({state:b,dispatch:()=>null});function H(){var{state:r,dispatch:e}=(0,l.useContext)(E);return(0,M.Z)({},r,{state:r,dispatch:e})}var L=function(e){e===void 0&&(e={});var a=(0,M.Z)({},((0,D.Z)(e),e)),[i,o]=(0,l.useState)(),[n,u]=(0,l.useState)(e.zoom||15),[t,s]=(0,l.useState)(e.container),{dispatch:v}=(0,l.useContext)(E);return(0,l.useEffect)(()=>{if(t&&!i&&AMap){t.className=t.className+" react-amap-wapper";var f=new AMap.Map(t,(0,M.Z)({zoom:n},a));o(f)}return()=>{i&&(i.clearInfoWindow(),i.clearLimitBounds(),i.clearMap(),i.destroy(),o(void 0))}},[t,i]),(0,l.useEffect)(()=>(i&&t&&v({map:i,container:t,AMap}),()=>{v({map:void 0,container:void 0,AMap:void 0})}),[i,t]),(0,l.useMemo)(()=>{i&&typeof e.zoom=="number"&&n!==e.zoom&&e.zoom>=2&&e.zoom<=20&&(u(e.zoom),i.setZoom(e.zoom))},[n,e.zoom]),(0,l.useMemo)(()=>{e.center&&i&&i.setCenter(e.center)},[i,e.center]),T(i,e,["dragEnable","zoomEnable","jogEnable","pitchEnable","rotateEnable","animateEnable","keyboardEnable"]),w(i,e,["Zoom","LabelzIndex","Layers","City","Bounds","LimitBounds","Lang","Rotation","DefaultCursor","MapStyle","Features","DefaultLayer","Pitch"]),x(i,e,["onMouseMove","onZoomChange","onMapMove","onMouseWheel","onZoomStart","onMouseOver","onMouseOut","onDblClick","onClick","onZoomEnd","onMoveEnd","onMouseUp","onMouseDown","onRightClick","onMoveStart","onDragStart","onDragging","onDragEnd","onHotspotOut","onHotspotOver","onTouchStart","onComplete","onHotspotClick","onTouchMove","onTouchEnd","onResize"]),{map:i,setMap:o,zoom:n,setZoom:u,container:t,setContainer:s}},O=["className","children"],se=r=>{var[e,a]=useReducer(reducer,initialState);return _jsx(Context.Provider,{value:_extends({},e,{state:e,dispatch:a}),children:r.children})},W=(0,l.forwardRef)((r,e)=>{var{className:a,children:i}=r,o=(0,k.Z)(r,O),[n,u]=(0,l.useReducer)(I,b),t=(0,l.useRef)(null),{setContainer:s,container:v,map:f}=L((0,M.Z)({container:o.container||t.current},o));(0,l.useEffect)(()=>s(t.current),[t.current]),(0,l.useImperativeHandle)(e,()=>(0,M.Z)({},o,{map:f,AMap,container:o.container||t.current}),[f]);var c=l.Children.toArray(i);return(0,l.useEffect)(()=>{f&&u({map:f,container:t.current,AMap})},[f]),(0,m.jsxs)(E.Provider,{value:(0,M.Z)({},n,{state:n,dispatch:u}),children:[!o.container&&(0,m.jsx)("div",{ref:t,className:"react-amap-wapper "+a,style:(0,M.Z)({fontSize:1,width:"100%",height:"100%"},o.style)}),AMap&&f&&typeof i=="function"&&i({AMap,map:f,container:v}),AMap&&f&&c.map((d,C)=>(0,l.isValidElement)(d)?typeof d=="string"?(0,l.cloneElement)((0,m.jsx)(l.Fragment,{children:d}),{key:C}):d.type&&typeof d.type=="string"?(0,l.cloneElement)(d,{key:C}):(0,l.cloneElement)(d,(0,M.Z)({},d.props,{AMap,map:f,container:v,key:C})):null)]})}),z=null,fe=function(e){e===void 0&&(e={});var{visiable:a}=e,i=_objectWithoutPropertiesLoose(e,z),{map:o}=useMapContext(),[n,u]=useState();return useEffect(()=>{if(AMap&&o&&!n){var t=new AMap.BezierCurve(_extends({},i));return o.add(t),u(t),()=>{t&&(o&&o.removeLayer(t),u(void 0))}}},[o]),useVisiable(n,a),useSettingProperties(n,e,["Options","Path","ExtData","ExtData"]),useEventProperties(n,e,["onHide","onShow","onDblClick","onMouseOver","onMouseUp","onMouseDown","onclick","onTouchEnd","onTouchMove","onTouchStart","onRightClick","onMouseOut"]),{bezierCurve:n,setBezierCurve:u}},ve=null,B=null,de=function(e){e===void 0&&(e={});var{visiable:a}=e,i=_objectWithoutPropertiesLoose(e,B),{map:o}=useMapContext(),[n,u]=useState();return useEffect(()=>{if(AMap&&o&&!n){var t=new AMap.Circle(_extends({},i));o.add(t),u(t)}return()=>{n&&(o&&o.remove(n),u(void 0))}},[o]),useVisiable(n,a),useSettingProperties(n,e,["Center","Raius","Options","ExtData"]),useEventProperties(n,e,["onHide","onShow","onRightClick","onClick","onTouchEnd","onDblClick","onTouchMove","onTouchStart","onMouseOut","onMouseOver","onMouseUp","onMouseDown"]),{circle:n,setCircle:u}},ce=null,j=null,Me=function(e){e===void 0&&(e={});var{visiable:a}=e,i=_objectWithoutPropertiesLoose(e,j),{map:o}=useMapContext(),[n,u]=useState();return useEffect(()=>{if(!(!AMap||!o)&&!n){var t=new AMap.CircleMarker(_extends({},i));return o.add(t),u(t),()=>{t&&(o&&o.removeLayer(t),u(void 0))}}},[o]),useVisiable(n,a),useSettingProperties(n,e,["Center","Raius","zIndex","Bubble","Cursor","StrokeColor","StrokeOpacity","StrokeWeight","FillColor","FillOpacity","Draggable","ExtData"]),useEventProperties(n,e,["onHide","onShow","onMouseover","onTouchend","onClick","onTouchmove","onRightclick","onMouseup","onMouseout","onTouchstart","onMousedown","onDblclick"]),{circleMarker:n,setCircleMarker:u}},pe=null,Z=["position"],V=function(e){e===void 0&&(e={});var{position:a}=e,i=(0,k.Z)(e,Z),{map:o}=H(),[n,u]=(0,l.useState)();return(0,l.useEffect)(()=>{if(!(!AMap||!o)&&!n){var t=new AMap.ContextMenu((0,M.Z)({},i));u(t);var s=v=>t.open(o,a||v.lnglat);return o.on("rightclick",s),()=>{t&&(o.off("rightclick",s),o&&o.removeLayer(t),u(void 0))}}},[o]),x(n,e,["onOpen","onClose"]),{contextMenu:n,setContextMenu:u}},N=function(){},U=function(r){r===void 0&&(r={});var{text:e="",onClick:a=N}=r;return(0,l.useEffect)(()=>(r.contextMenu&&r.contextMenu.addItem(e,a,1),()=>{r.contextMenu&&r.contextMenu.removeItem(e,a)}),[r.contextMenu,r.text,r.onClick]),null},G=l.forwardRef((r,e)=>{var{contextMenu:a}=V(r);(0,l.useImperativeHandle)(e,()=>(0,M.Z)({},r,{contextMenu:a}));var i=l.Children.toArray(r.children);return(0,m.jsx)(l.Fragment,{children:AMap&&a&&i.map((o,n)=>l.isValidElement(o)?l.cloneElement(o,(0,M.Z)({},o.props,{AMap,map:r.map,contextMenu:a,key:n})):null)})});G.Item=U;function he(r){r===void 0&&(r={});var{position:e,visiable:a,offset:i}=r,[o,n]=useState(),{map:u}=useMapContext();return useEffect(()=>{if(u&&!o){var t;return u.plugin(["AMap.ControlBar","AMap.HawkEye"],()=>{t=new AMap.ControlBar({offset:i,position:e}),u.addControl(t),n(t)}),()=>{t&&u.removeControl(t)}}},[u]),useVisiable(o,a),{controlBarControl:o,setControlBarControl:n}}var Ce=null,F=null,me=function(e){e===void 0&&(e={});var{visiable:a}=e,i=_objectWithoutPropertiesLoose(e,F),{map:o}=useMapContext(),[n,u]=useState();return useEffect(()=>{if(!(!AMap||!o)&&!n){var t=new AMap.Ellipse(_extends({},i));return o.add(t),u(t),()=>{t&&(o&&o.removeLayer(t),u(void 0))}}},[o]),useVisiable(n,a),useSettingProperties(n,e,["Center","Radius","Options","ExtData"]),useEventProperties(n,e,["onHide","onShow","onClick","onDblClick","onRightClick","onMouseOut","onMouseOver","onMouseUp","onMouseDown","onTouchEnd","onTouchMove","onTouchStart"]),{ellipse:n,setEllipse:u}},xe=null,Q=null,Ee=function(e){e===void 0&&(e={});var{type:a="position",onComplete:i,onError:o}=e,n=_objectWithoutPropertiesLoose(e,Q),[u,t]=useState(),{map:s}=useMapContext();useEffect(()=>{if(AMap&&!u){var f;return AMap.plugin(["AMap.Geolocation"],()=>{f=new AMap.Geolocation(_extends({},n)),t(f)}),()=>{f&&t(void 0)}}},[AMap]);function v(f,c){f==="complete"&&i?i(c):o&&o(c)}return useMemo(()=>{if(!!/^(position|cityInfo)$/.test(a)){var f=a==="position"?"getCurrentPosition":"getCityInfo";u&&s?(u[f](v),s.addControl(u)):u&&u[f](v)}},[u]),{geolocation:u,setGeolocation:t}},ge=null,$=null;function we(r){r===void 0&&(r={});var[e,a]=useState(),{offset:i,visiable:o}=r,n=_objectWithoutPropertiesLoose(r,$),{map:u}=useMapContext();return useEffect(()=>{if(u&&!e){var t;return u.plugin(["AMap.HawkEye"],()=>{t=new AMap.HawkEye(_extends({offset:i},n)),u.addControl(t),a(t)}),()=>{t&&u&&(u.removeLayer(t),a(void 0))}}},[u]),useVisiable(e,o),{hawkEyeControl:e,setHawkEyeControl:a}}var ke=null,Y=null,be=function(e){e===void 0&&(e={});var{visiable:a,position:i}=e,o=_objectWithoutPropertiesLoose(e,Y),{map:n}=useMapContext(),[u,t]=useState(a),[s,v]=useState(),{container:f,Portal:c}=usePortal();return useEffect(()=>{if(!(!AMap||!n)&&!s){var d=n.getCenter();e.children&&(o.content=f);var C=new AMap.InfoWindow(_extends({},o,{position:i||d}));return v(C),u&&C.open(n,i||d),()=>{C&&(n&&n.remove(C),v(void 0))}}},[n]),useEffect(()=>{s&&s.setContent(e.children?f:o.content||"")},[e.children,f,o.content,s]),useMemo(()=>{if(u!==a&&s&&n)if(t(a),a){var d=n.getCenter();s.open(n,i||d)}else s.close()},[a,s]),useEffect(()=>{if(!(!n||!s||!a)){var d=n.getCenter();s.open(n,i||d)}},[i]),useSettingProperties(s,e,["Content","Anchor","Size"]),useEventProperties(s,e,["onOpen","onClose","onChange"]),{isOpen:u,setIsOpen:t,infoWindow:s,setInfoWindow:v,InfoWindowPortal:c}},ye=null,J=null;function Pe(r){r===void 0&&(r={});var[e,a]=useState(),{visiable:i,defaultType:o=0}=r,n=_objectWithoutPropertiesLoose(r,J),{map:u}=useMapContext();return useEffect(()=>{if(u&&!e){var t;return u.plugin(["AMap.MapType"],()=>{t=new AMap.MapType(_extends({defaultType:o},n)),u.addControl(t),a(t)}),()=>{t&&u.removeControl(t)}}},[u]),useVisiable(e,i),{mapTypeControl:e,setMapTypeControl:a}}var Se=null,K=null,Ae=function(e){e===void 0&&(e={});var{visiable:a}=e,i=_objectWithoutPropertiesLoose(e,K),{map:o}=useMapContext(),[n,u]=useState(),{container:t,Portal:s}=usePortal();return useEffect(()=>{if(!n&&o){e.children&&(i.content=t);var v=new AMap.Marker(_extends({},i));o.add(v),u(v)}return()=>{n&&(n.setMap(null),u(void 0))}},[o,n]),useVisiable(n,a),useSettingProperties(n,e,["Path","Anchor","Offset","Animation","Clickable","Position","Angle","Label","zIndex","Icon","Draggable","Cursor","Content","Map","Title","Top","Shadow","Shape","ExtData"]),useEventProperties(n,e,["onClick","onDblClick","onRightClick","onMouseMove","onMouseOver","onMouseOut","onMouseDown","onMouseUp","onDragStart","onDragging","onDragEnd","onMoving","onMoveEnd","onMoveAlong","onTouchStart","onTouchMove","onTouchEnd"]),{marker:n,setMarker:u,MarkerPortal:s}},Te=null,X=null,Re=function(e){e===void 0&&(e={});var{visiable:a,text:i,icon:o}=e,n=_objectWithoutPropertiesLoose(e,X),{map:u}=useMapContext(),[t,s]=useState();return useEffect(()=>{if(!t&&u){var v=i;i||(v={content:"",direction:"right",offset:[-20,-5],style:{fontSize:12,fillColor:"#22886f",strokeColor:"#fff",strokeWidth:2}});var f=o;f||(f={image:"http://webapi.amap.com/theme/v1.3/markers/b/mark_bs.png",size:[19,32],anchor:"center"});var c=new AMap.LabelMarker(_extends({style:f,icon:f,text:v},n));u.add(c),s(c)}return()=>{t&&s(void 0)}},[t,u]),useVisiable(t,a),useSettingProperties(t,e,["Name","Position","Zooms","Opacity","zIndex","Rank","Text","Icon","ExtData","Top"]),useEventProperties(t,e,["onMousedown","onMouseup","onTouchstart","onTouchmove","onTouchend","onClick","onMousemove","onMouseover","onMouseout"]),{labelMarker:t,setLabelMarker:s}},_e=null,q=null,De=function(e){e===void 0&&(e={});var{visiable:a}=e,i=_objectWithoutPropertiesLoose(e,q),{map:o}=useMapContext(),{opacity:n=.8,zIndex:u=1111,style:t,data:s}=i||{},[v,f]=useState();return useEffect(()=>{if(!(!AMap||!o)&&!v){var c=t;c||(c=[{url:"https://webapi.amap.com/images/mass/mass0.png",anchor:new AMap.Pixel(6,6),size:new AMap.Size(11,11),zIndex:3},{url:"https://webapi.amap.com/images/mass/mass1.png",anchor:new AMap.Pixel(4,4),size:new AMap.Size(7,7),zIndex:2},{url:"https://webapi.amap.com/images/mass/mass2.png",anchor:new AMap.Pixel(3,3),size:new AMap.Size(5,5),zIndex:1}]);var d=new AMap.MassMarks(s||[],{opacity:n,zIndex:u,style:c});return f(d),d.setMap(o),()=>{d&&(d.clear(),f(void 0))}}},[o]),useVisiable(v,a),useSettingProperties(v,e,["Map","Data","Style","Opacity","zIndex","Zooms"]),useEventProperties(v,e,["onClick","onDblClick","onMouseMove","onMouseOut","onMouseUp","onMouseDown","onMouseOver","onTouchStart","onTouchEnd"]),{massMarks:v,setMassMarks:f}},Ie=null,ee=null,He=function(e){e===void 0&&(e={});var{visiable:a}=e,i=_objectWithoutPropertiesLoose(e,ee),{map:o}=useMapContext(),[n,u]=useState();return useEffect(()=>{if(!(!AMap||!o)&&!n){var t=new AMap.Polygon(_extends({},i));o.add(t),u(t)}},[o]),useVisiable(n,a),useSettingProperties(n,e,["ExtData","ExtData"]),useEventProperties(n,e,["onClick","onDblClick","onRightClick","onHide","onShow","onMouseDown","onMouseUp","onMouseOver","onMouseOut","onChange","onTouchStart","onTouchMove","onTouchEnd"]),{polygon:n,setPolygon:u}},Le=null,Oe=null,oe=null;function We(r){r===void 0&&(r={});var[e,a]=useState(),{visiable:i}=r,o=_objectWithoutPropertiesLoose(r,oe),{map:n}=useMapContext();return useEffect(()=>{if(n&&!e){var u=new AMap.Polyline(_extends({},o));return n.add(u),a(u),()=>{u&&(n&&n.removeLayer(u),a(void 0))}}},[n]),useVisiable(e,i),useSettingProperties(e,r,["Path","Options","Map","ExtData"]),useEventProperties(e,r,["onHide","onShow","onMouseOut","onChange","onRightClick","onDblClick","onMouseDown","onClick","onMouseOver","onTouchEnd","onTouchMove","onTouchStart","onMouseUp"]),{polyline:e,setPolyline:a}}var ze=null,re=null,Be=function(e){e===void 0&&(e={});var{visiable:a}=e,i=_objectWithoutPropertiesLoose(e,re),{map:o}=useMapContext(),[n,u]=useState();return useEffect(()=>{if(!(!AMap||!o)&&!n){var t=new AMap.Rectangle(_extends({},i));return o.add(t),u(t),()=>{t&&(o&&o.removeLayer(t),u(void 0))}}},[o]),useVisiable(n,a),useSettingProperties(n,e,["Bounds","Options","Map","ExtData"]),useEventProperties(n,e,["onHide","onShow","onClick","onDblClick","onRightClick","onMouseOut","onMouseOver","onMouseUp","onMouseDown","onTouchEnd","onTouchMove","onTouchStart"]),{rectangle:n,setRectangle:u}},je=null;function Ze(r){r===void 0&&(r={});var[e,a]=useState(),{position:i,visiable:o,offset:n}=r,{map:u}=useMapContext();return useEffect(()=>{if(u&&!e){var t;return u.plugin(["AMap.Scale"],()=>{t=new AMap.Scale({offset:n,position:i}),u.addControl(t),a(t)}),()=>{t&&u.removeControl(t)}}},[u]),useVisiable(e,o),{scaleControl:e,setScaleControl:a}}var Ve=null,te=null,Ne=function(e){e===void 0&&(e={});var{visiable:a}=e,i=_objectWithoutPropertiesLoose(e,te),[o,n]=useState(),{map:u}=useMapContext(),{container:t,Portal:s}=usePortal();return useEffect(()=>{if(!(!AMap||!u)&&!o){e.children&&(i.text=t.innerHTML);var v=new AMap.Text(_extends({},i));return u.add(v),n(v),()=>{v&&(v.remove(),n(void 0))}}},[u]),useEffect(()=>{o&&o.setText(e.children?t.innerHTML:e.text||"")},[e.children,e.text,t,o]),useVisiable(o,a),useSettingProperties(o,e,["Style","Title","Clickable","Draggable","Map","Position","Offset","Angle","zIndex","Top","Cursor","ExtData"]),useEventProperties(o,e,["onMoving","onTouchMove","onTouchEnd","onMoveaLong","onTouchStart","onMoveEnd","onClick","onDblClick","onRightClick","onMouseMove","onMouseOver","onMouseOut","onMouseDown","onMouseUp","onDragStart","onDragEnd","onDragging"]),{text:o,setText:n,TextPortal:s}},Ue=null;function Ge(r){r===void 0&&(r={});var[e,a]=useState(),{position:i,visiable:o,offset:n}=r,{map:u}=useMapContext();return useEffect(()=>{if(u&&!e){var t;return u.plugin(["AMap.ToolBar"],()=>{t=new AMap.ToolBar({offset:n,position:i}),u.addControl(t),a(t)}),()=>{t&&u.removeControl(t)}}},[u]),useVisiable(e,o),{toolBarControl:e,setToolBarControl:a}}var Fe=null,Qe=function(e){e===void 0&&(e={});var{city:a="",type:i="live",onComplete:o,onError:n}=e,[u,t]=useState(),s=i==="live"?"getLive":"getForecast";function v(f){i&&a&&/^(live|forecast)$/.test(i)&&f[s](a,(c,d)=>{c&&n?n(c):d&&o&&o(d)})}return useEffect(()=>{if(AMap&&!u){var f;return AMap.plugin(["AMap.Weather"],()=>{f=new AMap.Weather,t(f)}),()=>{f&&t(void 0)}}},[]),useMemo(()=>{u&&a&&i&&v(u)},[u,a,i]),{weather:u,setWeather:t}},$e=null}}]);
