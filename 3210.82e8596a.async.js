"use strict";(self.webpackChunk_hocgin_ui=self.webpackChunk_hocgin_ui||[]).push([[3210,686],{43210:function(G,f,n){n.r(f);var I=n(38630),Q=n.n(I),D=n(54967),R=n(75644),g=n.n(R),A=n(10350),M=n(91208),m=n.n(M),h=n(40281),S=n(46686),P=n.n(S),a=n(93236),v=n(84875),T=n.n(v),C=n(74190),p=n(12794),U=n(10686),r=n(4781),l=n(62086),e=void 0,E=function(V){var _=Object.assign({},V),b=_.prefixCls,t=(0,a.useRef)(),X=(0,a.useState)(_==null?void 0:_.data),$=P()(X,2),c=$[0],L=$[1],H=(0,a.useState)(!1),N=P()(H,2),J=N[0],B=N[1],Y=(0,a.useState)(),Z=P()(Y,2),k=Z[0],z=Z[1];(0,a.useEffect)(function(){L(_==null?void 0:_.data)},[_.data]),(0,a.useEffect)(function(){z(c==null?void 0:c.name),F()},[c]);var F=function(o){var s,O=t==null||(s=t.current)===null||s===void 0?void 0:s.map,d=o!=null?o:c;d&&d!==null&&d!==void 0&&d.location&&O&&O.setCenter(d==null?void 0:d.location)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(A.default,{title:"\u9009\u62E9\u70B9",children:(0,l.jsx)(h.default,{icon:(0,l.jsx)(C.Z,{}),onClick:B.bind(e,!0)})}),(0,l.jsx)(D.Z,{className:T()("".concat(b),_==null?void 0:_.className),closable:!1,onOk:function(){var o;c&&(_==null||(o=_.onOk)===null||o===void 0||o.call(_,c)),B(!1)},onCancel:B.bind(e,!1),visible:J,children:(0,l.jsxs)("div",{style:{width:"100%",height:300},children:[(0,l.jsx)(U.default,{value:k,onChange:z,onSelect:function(o){var s,O=t==null||(s=t.current)===null||s===void 0?void 0:s.map;L(o),O.setCenter(o==null?void 0:o.location)},className:"".concat(b,"-LbsSearch"),akay:_==null?void 0:_.akay}),(0,l.jsx)(r.X,{useAMapUI:!0,akay:_==null?void 0:_.akay,children:(0,l.jsx)(p.D5,{ref:t,zoom:12,onComplete:function(){var o,s=t==null||(o=t.current)===null||o===void 0?void 0:o.map;F(),AMapUI.loadUI(["misc/PositionPicker"],function(O){var d=new O({mode:"dragMap",map:s});d.on("success",function(i){var W,x,y,u=i==null?void 0:i.regeocode,j=u==null||(W=u.aois)===null||W===void 0?void 0:W[0];console.log("result",i);var w=(x=j==null?void 0:j.name)!==null&&x!==void 0?x:i==null?void 0:i.nearestPOI,q=u==null?void 0:u.formattedAddress,nn=u==null||(y=u.addressComponent)===null||y===void 0?void 0:y.adcode,_n=i==null?void 0:i.position;L({name:w,address:q,adcode:nn,location:_n})}),d.start()})}})})]})})]})};f.default=E},10686:function(G,f,n){n.r(f);var I=n(33057),Q=n.n(I),D=n(76038),R=n(46686),g=n.n(R),A=n(12794),M=n(93236),m=n(62086),h=function(P){var a=Object.assign({},P),v=(0,M.useRef)(),T=(0,M.useState)(),C=g()(T,2),p=C[0],U=C[1];return(0,M.useEffect)(function(){var r;U(v==null||(r=v.current)===null||r===void 0?void 0:r.input)},[v==null?void 0:v.current]),(0,m.jsx)(D.default.Group,{className:a.className,style:{display:"flex"},compact:!0,children:(0,m.jsxs)("div",{style:{flex:"1 1"},children:[(0,m.jsx)(D.default,{ref:v,style:{flex:"1 1"},onChange:function(l){var e,E;return a==null||(e=a.onChange)===null||e===void 0?void 0:e.call(a,(E=l.target)===null||E===void 0?void 0:E.value)},value:a==null?void 0:a.value}),(0,m.jsx)("div",{style:{width:"100%"},children:p&&(0,m.jsx)(A.Qc,{datatype:"poi",input:p,onSelect:function(l){var e,E=l.poi;return a==null||(e=a.onSelect)===null||e===void 0?void 0:e.call(a,E)}})})]})})};f.default=h}}]);
