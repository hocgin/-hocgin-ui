"use strict";(self.webpackChunk_hocgin_ui=self.webpackChunk_hocgin_ui||[]).push([[9618,9139],{39618:function(N,p,e){e.r(p);var C=e(46686),O=e.n(C),d=e(93236),h=e(84875),M=e.n(h),c=e(48201),I=e(25759),K=e(57307),R=e(35023),a=e(72254),t=e(29139),A=e(2269),_=e(62086),P=void 0,x=function(D){var n=Object.assign({},D),r=n.prefixCls,l=(0,d.useRef)(),z=(0,d.useState)(n==null?void 0:n.data),W=O()(z,2),m=W[0],T=W[1],F=(0,d.useState)(!1),y=O()(F,2),G=y[0],j=y[1],Q=(0,d.useState)(),$=O()(Q,2),V=$[0],b=$[1];(0,d.useEffect)(function(){T(n==null?void 0:n.data)},[n.data]),(0,d.useEffect)(function(){b(m==null?void 0:m.name),Z()},[m]);var Z=function(o){var v,f=l==null||(v=l.current)===null||v===void 0?void 0:v.map,i=o!=null?o:m;i&&i!==null&&i!==void 0&&i.location&&f&&f.setCenter(i==null?void 0:i.location)};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(c.Z,{title:"\u9009\u62E9\u70B9",children:(0,_.jsx)(I.Z,{icon:(0,_.jsx)(R.Z,{}),onClick:j.bind(P,!0)})}),(0,_.jsx)(K.Z,{className:M()("".concat(r),n==null?void 0:n.className),closable:!1,onOk:function(){var o;m&&(n==null||(o=n.onOk)===null||o===void 0||o.call(n,m)),j(!1)},onCancel:j.bind(P,!1),open:G,children:(0,_.jsxs)("div",{style:{width:"100%",height:300},children:[(0,_.jsx)(t.default,{value:V,onChange:b,onSelect:function(o){var v,f=l==null||(v=l.current)===null||v===void 0?void 0:v.map;T(o),f.setCenter(o==null?void 0:o.location)},className:"".concat(r,"-LbsSearch"),akay:n==null?void 0:n.akay}),(0,_.jsx)(A.X,{useAMapUI:!0,akay:n==null?void 0:n.akay,children:(0,_.jsx)(a.D5,{ref:l,zoom:12,onComplete:function(){var o,v=l==null||(o=l.current)===null||o===void 0?void 0:o.map;Z(),AMapUI.loadUI(["misc/PositionPicker"],function(f){var i=new f({mode:"dragMap",map:v});i.on("success",function(u){var L,B,S,s=u==null?void 0:u.regeocode,g=s==null||(L=s.aois)===null||L===void 0?void 0:L[0],X=(B=g==null?void 0:g.name)!==null&&B!==void 0?B:u==null?void 0:u.nearestPOI,k=s==null?void 0:s.formattedAddress,H=s==null||(S=s.addressComponent)===null||S===void 0?void 0:S.adcode,J=u==null?void 0:u.position;T({name:X,address:k,adcode:H,location:J})}),i.start()})}})})]})})]})};p.default=x},29139:function(N,p,e){e.r(p);var C=e(46686),O=e.n(C),d=e(76717),h=e(72254),M=e(93236),c=e(62086),I=function(R){var a=Object.assign({},R),t=(0,M.useRef)(),A=(0,M.useState)(),_=O()(A,2),P=_[0],x=_[1];return(0,M.useEffect)(function(){var E;x(t==null||(E=t.current)===null||E===void 0?void 0:E.input)},[t==null?void 0:t.current]),(0,c.jsx)(d.Z.Group,{className:a.className,style:{display:"flex"},compact:!0,children:(0,c.jsxs)("div",{style:{flex:"1 1"},children:[(0,c.jsx)(d.Z,{ref:t,style:{flex:"1 1"},onChange:function(D){var n,r;return a==null||(n=a.onChange)===null||n===void 0?void 0:n.call(a,(r=D.target)===null||r===void 0?void 0:r.value)},value:a==null?void 0:a.value}),(0,c.jsx)("div",{style:{width:"100%"},children:P&&(0,c.jsx)(h.Qc,{datatype:"poi",input:P,onSelect:function(D){var n,r=D.poi;return a==null||(n=a.onSelect)===null||n===void 0?void 0:n.call(a,r)}})})]})})};p.default=I}}]);
